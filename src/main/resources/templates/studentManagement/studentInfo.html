<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" >

	<head>
		<meta charset="UTF-8">
		<title>用户信息管理</title>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap/css/bootstrap.min.css">
		<script src="../js/jquery-3.3.1.min.js"></script>
		<script src="../js/bootstrap.min.js"></script>

		<style type="text/css">
			.fl {
				float: left;
			}
		</style>
	</head>

	<body>
		<div class="con-userinfo">
			<b>用户信息</b>
			<br />
			<br />
			<form action="/studentController/update" method="post">
				<p>
					用户账号:<input type="text" readonly="readonly" th:value="${student.no}" name="no">
					用户姓名:<input type="text" readonly="readonly" th:value="${student.name }" name="name" class="username">
					用户年级:<input type="text" readonly="readonly" th:value="${student.grade }" name="grade">
				</p>
				<p>
					用户专业:<input type="text" readonly="readonly" th:value="${student.professional}" name="professional"> 用户性别:
					<input type="text" readonly="readonly" th:value="${student.gender}" name="gender"> 用户班级:
					<input type="text" readonly="readonly" th:value="${student.classs}" name="class_">
				</p>
				<p>
					用户密码:<input type="password" readonly="readonly" th:value="${student.password }" name="password">
                    <a href="#" th:onclick="'javascript:openModal()'">修改</a>
				</p>
				<p>
					用户邮箱:
					<input type="text" th:value="${student.mailbox }" name="mailbox"> 专业背景:
					<input type="text" th:value="${student.subject_background }" name="subjectBackground">
				</p>
				学习经历:
				<p><textarea rows="8" cols="101" name="learningExperience" th:text="${student.learning_experience }"></textarea></p>
				研究方向:
				<p><textarea rows="8" cols="101" name="researchDirection" th:text="${student.research_direction }"></textarea></p>
				<br />
				<button type="submit" class="btn btn-primary" name="send" align="left" id="send">保存</button>&nbsp;
				<button type="submit" name="cz" class="btn btn-primary">重置</button>
			</form>
		</div>

		<!-- 修改密码 -->
		<div class="modal fade" tabindex="-1" id="update-modal">
			<!-- 窗口声明 -->
			<div class="modal-dialog modal-lg">
				<!-- 内容声明 -->
				<form class="form-horizontal" action="/studentController/updatePassword">
					<div class="modal-content">
						<!-- 头部、主体、脚注 -->
						<div class="modal-header">
							<button class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">修改密码</h4>
						</div>
						<div class="modal-body text-center row">
							<!-- 隐藏学生账号账号 -->
							<input type="hidden" name="account" id="studentAccount" />
							<div class="form-group"  style="margin-left:-30px;width: 500px;">
								<label for="up-password" class="col-sm-4 control-label">旧密码：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="up-password" th:value="${student.password }">
								</div>
							</div>
							<div class="form-group" style="margin-left:-30px;width: 500px;">
								<label for="nup-password" class="col-sm-4 control-label">新密码：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="nup-password" name="newPassword" >
								</div>
							</div>
							<div class="form-group" style="margin-left:-30px;width: 500px;">
								<label for="uup-password" class="col-sm-4 control-label">确认密码：</label>
								<div class="col-sm-8">
									<input type="text" class="form-control" id="uup-password" name="reNewPassword">
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button class="btn btn-primary" type="submit">确定修改
                    </button>
							<button class="btn btn-primary cancel" data-dismiss="modal">取消</button>
						</div>
					</div>
				</form>
			</div>
		</div>
		<script>
			function openModal() {
					$("#update-modal").modal("show");
					$("#studentAccount").val(id);
			}
		</script>

	</body>

</html>